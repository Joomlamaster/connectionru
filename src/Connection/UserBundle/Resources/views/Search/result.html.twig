{% extends 'ConnectionWebBundle:Frontend:layout.html.twig' %}

{% block theme %}search-event{% endblock %}

{% block breadcrumbs %}
    <div class="container breadcrumbs">
        <ul>
            <li><a href="{{ path('connection_homepage') }}">Main page</a></li>
            <li>Search</li>
        </ul>
    </div>
{% endblock breadcrumbs %}
{% block content %}
    <h4>Search</h4>
    <div class="row">
        <div class="search-form">
            {{ form_start(form, {'action': path('search_user_result'), 'attr': {'class': 'search-result master_slave'}}) }}
                <div class="form-inline">
                    <label class="radio-inline">
                        Gender: {{ form_widget(form.gender) }}
                    </label>
                    <label class="radio-inline">
                        Seek: {{ form_widget(form.seek) }}
                    </label>
                    <label class="select-inline">
                        Age: {{ form_widget(form.age) }}
                    </label>
                    <label class="select-inline">
                        Looking for: {{ form_widget(form.lookingFor) }}
                    </label>
                </div>
                <div class="form-inline">
                    <div class="master_slave">
                        <div>
                            <label class="select-inline">
                                Country: {{ form_widget(form.country) }}
                            </label>
                        </div>
                        {% if (form.state is defined) %}
                            <div class="slave_block">
                                <label class="select-inline">
                                    State: {{ form_widget(form.state) }}
                                </label>
                            </div>
                        {% endif %}
                    </div>
                </div>
                <div class="form-inline">
                    <label class="select-inline">
                        Zip: {{ form_widget(form.zipCode) }}
                    </label>
                    <label class="select-inline">
                        Miles: {{ form_widget(form.miles) }}
                    </label>
                </div>
                <div class="form-inline text-center">
                    <button type="submit"><span class="glyphicon glyphicon-search"></span> Search</button>
                </div>
            {{ form_end(form, {'render_rest': false}) }}
        </div>
    </div>
    <div class="row results-line"><span>results found</span></div>
    <div class="row found-1">
        {% if users is defined and users is not empty %}
            {% for user in users %}
                <div class="col-xs-2">
                    <div class="event-small">
                        <div class="row">
                            <div class="col-xs-12">
                                <a class="title" href="{{ path('view_profile', {'id': user.profile.id}) }}">
                                    <img src="{{ user.profile.avatar is defined ? user.profile.avatar : ""  }}" alt=""/>
                                </a>
                            </div>
                        </div>
                        <div class="row">
                            <time>{{ user.profile.birthdate|userAge }} {{ user.profile.state.name is defined ? "," ~ user.profile.state.name : ""}}</time>
                            <a class="title" href="{{ path('view_profile', {'id': user.profile.id}) }}">{{ user.userName }}</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% endif %}
    </div>
    <div class="row">
        <div class="paginator">
            <a href="#" class="page current">1</a>
            <a href="#" class="page">2</a>
            <a href="#" class="page">3</a>
            <a href="#" class="page">4</a>
            <a href="#" class="page">5</a>
            <a href="#" class="page">6</a>
            <a href="#" class="page">7</a>
            <a href="#" class="page">8</a>
            <div class="page">...</div>
            <a href="#" class="page">987</a>

        </div>
    </div>
{% endblock %}